# Игра Контрнаступ
Браузерный 2д шутер про танки.

**Содержание**
1. Общая концепция
* 1.1. Цели и задачи
* 1.2. Концепция
* 1.3. Дальнейшее развитие
2. Лор
3. Термины и определения
* 3.1. Термины и определения
* 3.2. Описание сцены
4. Игровые сценарии
* 4.1. Описание игрового процесса
* 4.2. Игровые сценарии

## 1. Общая концепция

## 1.1. Цели и задачи

**Цель**: Начать заниматься разработкой игр и выложить своё приложение в сеть.

**Задача**: Создать мультиплеерную 2D аркаду про танки "Контрнаступ" с отображением игровой сцены сверху.

## 1.2. Концепция

В браузере существует игра, зайдя в  которую, каждый человек может начать бой, пройдя регистрацию и авторизацию.
Игровой процесс представяет собой соперничество команд (PvE), состоящих из танков и пехотинцев, целью которых является
добраться из точки А до точки Б, минуя препятствия в виде врагов, под управлением ИИ, а также противопехотных и противотанковых мин. Игрок одерживает победу, когда знаменосец вывешивает флаг на базе противника.
В игре присутсвует несколько ролей: пехотинец, вооруженный винтовкой; пехотинец, вооруженный гранатометом; пехотинец, несущий знамя; управляющий танком; стреляющий из танка; командир танка; генерал. У каждого из них, кроме генерала, ограничен обзор карты. Первоначальная роль - пехотинец, доступна каждому игроку. Далее необходимо повышать звание, в игре их четыре: рядовой, сержант, офицер и генерал. Для повышения ранга и открытия новых ролей необходимо участвовать в матчах и зарабатывать опыт. Во время матча для перемещения по карте можно использовать клавиши WASD или стрелки (W или стрелка вверх - движение вперед, A или стрелка влево - поворот влево, S или стрелка вниз - движение назад, D или стрелка вправо - поворот вправо). Пехотинцы имеют возможность разминировать противотанковые мины, нажав клавишу Е, перезарядка навыка - 4 секунды. Противопехотные мины танки давят.

* **Пехотинец, м16** - Имеет возможность положить одну противотанковую мину за игру, а также сражаться с вражескими пехотинцами и наносить небольшой урон танкам с помощью автомата. Невосприимчив к противотанковым минам и может их разминировать. Наткнувшись на противопехотную - погибает. Угол обзора равен 120 градусам. Выстрелы из оружия осуществляются правой кнопкой мыши, время между ними -  0,25 секунд.

* **Пехотинец, РПГ** - Имеет возможность положить одну противотанковую мину за игру, а также сражаться с вражескими пехотинцами и наносить урон танкам с помощью гранатомета.  Невосприимчив к противотанковым минам и может их разминировать. Наткнувшись на противопехотную - погибает. Угол обзора равен 120 градусам. После каждого выстрела игроку необходимо перезаряжаться, нажав клавишу R. КД равен 6 секундам. Автоперезарядка отсуствует. 

* **Пехотинец, знаменосец** - Не имеет возможности атаковать вообще, его основная задача - выжить и вывесить знамя на базе противника. Невосприимчив к противотанковым минам и может их разминировать. Наткнувшись на противопехотную - погибает. Угол обзора равен 120 градусам.

* **Управляющий танком** - Управляет танком, имеет угол обзора 45 градусов. Невосприимчив к противопехотным минам.

* **Стрелок** - Стреляет из танка. Невосприимчив к противопехотным минам. Угол обзора равен 60 градусам. КД выстрела равен 4 секундам.

* **Командир танка** - Сидит в танке со стрелком и водителем, помогая ориентироваться в пространстве. Его угол обзора равен 180 градусам. Невосприимчив к противопехотным минам.

* **Генерал** - Имеет полный обзор карты, а также пистолет в арсенале. Может зумить карту, а также ставить метки для помощи команде.

Одержав победу, игрок получает опыт и золото, размер которых будет зависеть от количества уничтоженных вражеских танков и пехотинцев, знаменосец получается наибольшее количество ресурсов. Опыт нужен для повышения ранга и последующей возможности выбора роли. Золото нужно для покупки достижений. Возрождение отсутсвует - если вы погибли, то перенаправляетесь в лобби, чтобы вновь присоединиться к игре. Вражеские пехотинцы могут поставить противотанковую или противопехотную (шанс 50/50) мину в случайном месте.



## 1.3. Дальнейшее развитие и монетизация
Развитие:
* Добавить воду: текстуры, которые замедляют передвижение юнитов.
* Добавить возможность выбора режимов
* Настраиваемая сложность мобов
* Генератор карт
* Добавить возможность капитуляции: чтобы избежать смерти от врага, пехотинец может сдаться, тогда противники не будут по нему стрелять.

Монетизация:
* Добровольные донаты
* Покупка дополнительного XP
* Покупка более мощных/быстрых патронов
* Покупка сложных мобов
* Мерч

## 2. Лор

Мир соответсвует примерно настоящему периоду времени, модели танкам будут приближены к современным. Топливо отсутсвует. Физика отсутсвует. Урон, проходящий по вражеским машинам, будет зависеть от роли: пехотинцы наносят незначительный урон, двухместные и трехместные танки - более высокий. Происходят регулярные замесы на карте, в основном около промежуточных точек, которые требуется захватить, существуют неразрушаемые блоки, которые можно использовать как укрытие. Победой является уничтоженная база противнкиа.

## 3. Термины и определения

## 3.1. Термины и определения

**Игрок** - живой человек.

**Юнит** - внутриигровой объект, находящийся под управлением игрока или компьютера.

**КД** - время перезарядки навыков.

**Сцена** - игровое пространство, отображаемое на экране.

**Танк** - сущность игрока, представляет собой танчик с поворачивающейся башней.

**Моб** - боты. Принадлежат вражеской команде.

**Снаряд** - материальная точка с неограниченной дальностью полёта в рамках игровой сцены.

**Команда** - одна из двух команд, состоящих из игроков и(или) мобов, участвующих в раунде.

**База** - точка, уничтожение которой приводит к победе команды в раунде.

## 3.2. Описание сцены
Состав сцены:
* Разрушаемые блоки (деревья)
* Неразрушаемые блоки (камни, стены)
* Базы (флаг, здание)
* Противотанковые и противопехотные мины

Местонахождение вражеской базы генерируется случайным образом для каждого боя.
Генерация происходит так, чтобы база была закрыта разрушаемыми блоками.
Алгоритм генерации карты должен подразумевать наличие сложных проходов с поворотами, а также неразрушаемые блоки, которые можно использовать как укрытие.


## 4. Игровые сценарии

## 4.1. Описание игрового процесса
Игрок запускает приложение в браузере.
Регистрируется или авторизируется в игре.
Игрок управляет танком или пехотой с помощью клавиатуры и мыши. Уничтожает вражеских юнитов и базу противника, а также обезвреживает мины.
Присутствует дружеский огонь.
Захват базы или смерть автоматически перенаправляет игрока в лобби.
Капитулияция невозможна.


## 4.2. Игровые сценарии

**Зайти в игру**
Обязательно наличие интернета на устройстве.
Пользователь переходит по ссылке в браузере.
На экране открывается стартовое меню с возможностью создать лобби и начать игру.

**Выход из игры**
Пользователь закрывает вкладку в браузере - выход игрока из игры.
Пользователь нажимает кнопку "Выход" в приложении - завершение игровой сессии. 

**Начать игру**
Пользователь авторизуется или регистрируется, после чего перемещается в лобби. В зависимости от ранга он может выбрать свободную роль. Выбирая пехотинца, он сразу же перемещается на игровую сцену. Чтобы в бой вступил танк, нужно дождаться полной его комплектации. Все юниты спавнятся в одном месте.

**Управление**
Пользователь нажимает на кнопки управления на клавиатуре.
Танк или пехотинец под его управлением перемещается или стреляет на игровой сцене в приложении.

**Просмотр профиля**
Авторизовавшись, игрок может нажать кнопку "Досье" для просмотра данных: логин, количество сыгранных игр, опыт и достижения.